\label{arithcontexts}

The global arithmetic decoder state consists of the following variables:

\begin{pseudo*}
\bsCODE{\ArithState:}
\bsCODE{\ALow}{\#integer}
\bsCODE{\AHigh}{\#integer}
\bsCODE{\ACode}{\#integer}
\bsCODE{\ABitsLeft}{\#integer}
\bsCODE{\AContexts[]}{\#context array}
\end{pseudo*}

The state variable \AContexts is an array of all contexts
used for entropy decoding in the Dirac decoder. 
A context $context$ is an integer array consisting of two positive values,
$context[0]$, and $context[1]$, representing counts of values $0$ and $1$
respectively. Contexts are accessed by decoding functions
via the indices defined in Section ??.

\subsubsection{Resetting contexts}

An individual context is reset by halving the counts of $0$ and $1$ and ensuring that
these counts do not reach zero:

\begin{pseudo}{reset\_context}{context}
\bsCODE{context[0] \gg= 1}
\bsCODE{context[0] += 1}
\bsCODE{context[1] \gg= 1}
\bsCODE{context[1] += 1}
\end{pseudo}

Periodic resetting of all contexts occurs in entropy decoding 
